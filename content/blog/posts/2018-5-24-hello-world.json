{
  "title": "WeApp workflow with Gulp",
  "date": "2018-05-26T21:57:45+08:00",
  "originalPostLink": "https://devework.com/weapp-workflow.html",
  "thumbnail": "/images/uploads/gulpwechat.png",
  "body": "![](/images/uploads/weapp-worfkflow-banner2-2x.jpg)\n\n## Intro\n\n_WeApp-Workflow_ is a workflow that utilizes frontend build tools used for building WeChat mini Programs. Based on Gulp 4, this workflow uses a build system to resolve some of the pain points faced by developers when writing Mini Programs.\n\nRepo：https://github.com/Jeff2Ma/WeApp-Workflow\n\nArticle (Chinese)：https://devework.com/weapp-workflow.html\n\n## Features\n\n### Transpile SCSS to WXSS\n\nUtilize the Sass pre-processor to make writing CSS a smoother experience. Files with the `.scss` extension will automatically be watched and transpiled to the appropriate `.wxss` format for your MP.\n\n### Convert PX to RPX units\n\nPX units in CSS get transpiled to RPX, referencing the size of iPhone 6 PX as a standard, as per Tencent's official documentation.\n\n```css\n// Input: src/pages/index/index.scss\n.index__header {\n\tfont-size: 14px;\n\tmargin-top: 20PX; /* If you write PX in all caps, it won't get converted*/\n}\n\n// Output: dist/pages/index/index.wxss\n.index__header {\n\tfont-size: 28rpx; /* converted 14px -> 28rpx*/\n\tmargin-top: 20PX; /* PX all caps, not converted */\n}\n```\n\n### Image compression\nThe build system automatically compresses images to save space in your mini program.\n\n### Automatically upload images to CDN, replace with HTTPS URL\nWeChat Mini Programs don't support relative paths for image imports, only absolute paths beginning with https protocol are supported. This feature of the workflow can take relative image paths from your WXML and WXSS files, upload them to your CDN or FTP/STP onto your server, and replace the file in your code. Currently only supports **Tencent Cloud** and **QiNiu**.\n```html\n// Input: src/pages/index/index.wxml\n<image src=\"%ASSETS_IMG%/t.png\"></image>\n\n// Output: dist/pages/index/index.wxml\n<image src=\"https://cdn.devework.com/weapp/devework/t.png\"></image>\n```"
}